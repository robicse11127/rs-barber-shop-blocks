System.register(["proxy-compare"],function(S){"use strict";var x,W;return{setters:[function(j){x=j.markToTrack,W=j.getUntracked}],execute:function(){S({getVersion:V,proxy:F,ref:z,snapshot:T,subscribe:q});const j=o=>typeof o=="object"&&o!==null,a=Symbol(),A=new WeakSet,D=(o=Object.is,i=(e,b)=>new Proxy(e,b),v=e=>j(e)&&!A.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer),d=e=>{switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e}},l=new WeakMap,y=(e,b,w,h=d)=>{const u=l.get(b);if((u==null?void 0:u[0])===w)return u[1];const c=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return x(c,!0),l.set(b,[w,c]),Reflect.ownKeys(e).forEach(P=>{const s=Reflect.get(e,P,b);A.has(s)?(x(s,!1),c[P]=s):s instanceof Promise?Object.defineProperty(c,P,{get(){return h(s)}}):s!=null&&s[a]?c[P]=T(s,h):c[P]=s}),Object.freeze(c)},g=new WeakMap,O=[1],B=e=>{if(!j(e))throw new Error("object required");const b=g.get(e);if(b)return b;let w=O[0];const h=new Set,u=(n,t=++O[0])=>{w!==t&&(w=t,h.forEach(r=>r(n,t)))},c=new Map,P=n=>{let t=c.get(n);return t||(t=(r,p)=>{const f=[...r];f[1]=[n,...f[1]],u(f,p)},c.set(n,t)),t},s=n=>{const t=c.get(n);return c.delete(n),t},_=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e)),M=i(_,{get(n,t,r){return t===a?[n,r,w,y,h]:Reflect.get(n,t,r)},deleteProperty(n,t){var r;const p=Reflect.get(n,t),f=(r=p==null?void 0:p[a])==null?void 0:r[4];f&&f.delete(s(t));const k=Reflect.deleteProperty(n,t);return k&&u(["delete",[t],p]),k},set(n,t,r,p){var f,k;const L=Reflect.has(n,t),E=Reflect.get(n,t,p);if(L&&o(E,r))return!0;const K=(f=E==null?void 0:E[a])==null?void 0:f[4];K&&K.delete(s(t)),j(r)&&(r=W(r)||r);let R=r;return(k=Object.getOwnPropertyDescriptor(n,t))!=null&&k.set||(r instanceof Promise?r.then(m=>{r.status="fulfilled",r.value=m,u(["resolve",[t],m])}).catch(m=>{r.status="rejected",r.reason=m,u(["reject",[t],m])}):(!(r!=null&&r[a])&&v(r)&&(R=F(r)),R!=null&&R[a]&&R[a][4].add(P(t)))),Reflect.set(n,t,R,p),u(["set",[t],r,E]),!0}});return g.set(e,M),Reflect.ownKeys(e).forEach(n=>{const t=Object.getOwnPropertyDescriptor(e,n);t.get||t.set?Object.defineProperty(_,n,t):M[n]=e[n]}),M})=>[B,a,A,o,i,v,d,l,y,g,O],[U]=D();function F(o={}){return U(o)}function V(o){const i=o==null?void 0:o[a];return i==null?void 0:i[2]}function q(o,i,v){let d;const l=[],y=o[a][4],g=O=>{if(l.push(O),v){i(l.splice(0));return}d||(d=Promise.resolve().then(()=>{d=void 0,y.has(g)&&i(l.splice(0))}))};return y.add(g),()=>y.delete(g)}function T(o,i){const[v,d,l,y]=o[a];return y(v,d,l,i)}function z(o){return A.add(o),o}const N=S("unstable_buildProxyFunction",D)}}});
